<div id="connect">
  <div class="modal-header modal-header-w-icon clearfix">
    <h3 class="pull-left">
      <i class="fa fa-server"></i> {{ currentScreen.name }}
    </h3>
    <i class="close fa fa-plus rotate-45" ng-click="close()"></i>
  </div>
  <div class="modal-body">
    <div class="clearfix top-links">
      <div class="pull-right">
        <a href="#" class="add-link" ng-click="changeScreen(screens.ADD, null, $event)">
          <i class="fa fa-plus"></i> Add
        </a>
      </div>
    </div>
    <!-- Server List -->
    <div class="connect-server-list" ng-show="currentScreen === screens.LIST">
      <div class="alert alert-info" ng-show="!connections.length">
        Your don't have any connections yet. Use the Add button to create a new connection.
      </div>
      <table class="table table-hover table-bordered">
        <thead>
          <tr>
            <th>
              Name
            </th>
            <th>
              Address
            </th>
            <th>
              Database
            </th>
            <th>
              Edit
            </th>
            <th>
              Remove
            </th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="connection in connections" ng-class="{ 'active' : connection.selected }">
            <td ng-click="selectConnection(connection)">
              {{ connection.name }}
            </td>
            <td>
              {{ connection.host + ':' + connection.port }}
            </td>
            <td>
              {{ connection.database.name }}
            </td>
            <td class="center">
              <a class="edit" href="#" ng-click="changeScreen(screens.EDIT, connection, $event)" uib-tooltip="Edit Connection" tooltip-popup-delay="600">
                <i class="fa fa-pencil"></i>
              </a>
            </td>
            <td class="center">
              <a class="remove" href="#" ng-click="changeScreen(screens.REMOVE, connection, $event)" uib-tooltip="Delete Connection" tooltip-popup-delay="600">
                <i class="fa fa-times"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- <ul>
        <li ng-repeat="connection in connections" ng-class="{ 'active' : connection.selected }" ng-show="connections.length">
          <a class="name" href="#" ng-click="selectConnection(connection, $event)">
            <i class="icon-connected fa fa-check-circle-o"></i> {{ connection.name }}
          </a>
          <span class="links">
            <a class="edit" href="#" ng-click="changeScreen(screens.EDIT, connection, $event)" uib-tooltip="Edit Connection" tooltip-popup-delay="600">
              <i class="fa fa-pencil"></i>
            </a>
            <a class="remove" href="#" ng-click="changeScreen(screens.REMOVE, connection, $event)" uib-tooltip="Delete Connection" tooltip-popup-delay="600">
              <i class="fa fa-times"></i>
            </a>
          </span>
        </li>
      </ul> -->
    </div>
    <!-- Server Add -->
    <div class="server-add clearfix" ng-show="currentScreen === screens.ADD">
      <form class="form-horizontal" name="addForm" novalidate>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.name.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Connection Name</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.name" name="name" type="text" required>
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.name.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Database Name</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.databaseName" name="databaseName" type="text">
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.host.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Host</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.host" name="host" type="text" required placeholder="localhost">
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.port.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Port</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.port" name="port" type="text" required placeholder="27017">
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.username.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Username</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.auth.username" name="username" type="text">
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.password.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Password</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.auth.password" name="password" type="text">
          </div>
        </div>
      </form>
    </div>
    <!-- Server Edit -->
    <div class="server-edit clearfix" ng-show="currentScreen === screens.EDIT">
      <form class="form-horizontal" name="editConnectionForm" novalidate>
        <div class="form-group">
          <label class="col-sm-2 control-label">Name</label>
          <div class="col-sm-10 ">
            <input class="form-control" type="text" ng-model="selectedConnection.name">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Host</label>
          <div class="col-sm-10 ">
            <input class="form-control" type="text" ng-model="selectedConnection.host">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Port</label>
          <div class="col-sm-10 ">
            <input class="form-control" type="text" ng-model="selectedConnection.port">
          </div>
        </div>
      </form>
    </div>
    <!-- Server Remove -->
    <div class="server-remove clearfix" ng-show="currentScreen === screens.REMOVE">
      <div class="alert alert-danger">
        Are you sure you want to remove the connection
        <strong>'{{ selectedConnection.name }}'</strong>?
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- Server List -->
    <div class="list-buttons pull-right" ng-show="currentScreen === screens.LIST">
      <button class="btn btn-default" ng-click="close()">
        Cancel
      </button>
      <button class="btn btn-primary" ng-click="connect($event)" ng-disabled="!connectionSelected()" tabindex="1">
        Connect
      </button>
    </div>

    <!-- Server Add -->
    <div class="add-buttons pull-right" ng-show="currentScreen === screens.ADD">
      <button class="btn btn-default" type="button" ng-click="changeScreen(screens.LIST, null, $event)">
        Cancel
      </button>
      <button class="btn btn-primary" type="button" ng-click="addConnection(addForm, $event)">
        Add
      </button>
    </div>

    <!-- Server Remove -->
    <div class="remove-buttons pull-right" ng-show="currentScreen === screens.REMOVE">
      <button class="btn btn-default" type="button" ng-click="changeScreen(screens.LIST, null, $event)">
        Cancel
      </button>
      <button class="btn btn-primary" type="button" ng-click="removeConnection(selectedConnection, $event)">
        Remove
      </button>
    </div>

    <!-- Server Edit -->
    <div class="edit-buttons pull-right" ng-show="currentScreen === screens.EDIT">
      <button class="btn btn-default" type="button" ng-click="changeScreen(screens.LIST, null, $event)">
        Cancel
      </button>
      <button class="btn btn-primary" type="button" ng-click="editConnection(editConnectionForm, $event)">
        Save
      </button>
    </div>
  </div>
</div>
