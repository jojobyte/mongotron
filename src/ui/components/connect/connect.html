<div id="connect" ng-controller="connectCtrl">
  <div class="connect-sidebar col-xs-3">
    <ul>
      <li ng-click="currentPage = 'list'" ng-class="{ active : currentPage === 'list' }">
        <i class="fa fa-cog"></i>Manage
      </li>
      <li ng-click="currentPage = 'add'" ng-class="{ active : currentPage === 'add' }">
        <i class="fa fa-keyboard-o"></i>Add
      </li>
    </ul>
  </div>
  <div class="connect-content">
    <div class="clearfix top-links">
      <div class="pull-right">
        <a href="#" class="add-link" ng-click="currentPage === 'add'">
          <i class="fa fa-plus"></i> Add
        </a>
      </div>
    </div>
    <!-- Server List -->
    <div class="connect-server-list" ng-show="currentPage === 'list'">
      <ul>
        <div class="alert alert-info" ng-show="!connections.length">
          Your don't have any connections yet. Use the Add button to create a new connection.
        </div>
        <li ng-repeat="connection in connections" ng-class="{ 'connected' : isConnected(connection) }" ng-show="connections.length">
          <a class="name" href="#" ng-click="connect(connection, $event)">
            <i class="icon-connected fa fa-check-circle-o"></i> {{ connection.name }}
          </a>
          <span class="links">
            <a class="edit" href="#" ng-click="currentPage === 'edit'; currentConnection = connection;" uib-tooltip="Edit Connection" tooltip-popup-delay="600">
              <i class="fa fa-pencil"></i>
            </a>
            <a class="remove" href="#" ng-click="currentPage === 'remove'; currentConnection = connection;" uib-tooltip="Delete Connection" tooltip-popup-delay="600">
              <i class="fa fa-times"></i>
            </a>
          </span>
        </li>
      </ul>
    </div>
    <!-- Server Add -->
    <div class="server-add clearfix" ng-show="currentPage === 'add'">
      <form class="form-horizontal" name="addForm" novalidate>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.name.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Connection Name</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.name" name="name" type="text" required>
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.name.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Database Name</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.databaseName" name="databaseName" type="text">
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.host.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Host</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.host" name="host" type="text" required placeholder="localhost">
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.port.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Port</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.port" name="port" type="text" required placeholder="27017">
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.username.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Username</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.auth.username" name="username" type="text">
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : !addForm.password.$valid && addConnectionFormSubmitted }">
          <label class="col-sm-4 control-label">Password</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="addConnectionForm.auth.password" name="password" type="text">
          </div>
        </div>
      </form>
    </div>
    <!-- Server Edit -->
    <div class="server-edit clearfix" ng-show="currentPage === 'edit'">
      <form class="form-horizontal" name="editConnectionForm" novalidate>
        <div class="form-group">
          <label class="col-sm-2 control-label">Name</label>
          <div class="col-sm-10 ">
            <input class="form-control" type="text" ng-model="selectedConnection.name">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Host</label>
          <div class="col-sm-10 ">
            <input class="form-control" type="text" ng-model="selectedConnection.host">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Port</label>
          <div class="col-sm-10 ">
            <input class="form-control" type="text" ng-model="selectedConnection.port">
          </div>
        </div>
      </form>
    </div>
    <!-- Server Remove -->
    <div class="server-remove clearfix" ng-show="currentPage === 'remove'">
      <div class="alert alert-danger">
        Are you sure you want to remove the connection
        <strong>'{{ selectedConnection.name }}'</strong>?
      </div>
    </div>
  </div>
  <div class="">
    <p class="center">
      <!-- Server List -->
      <div class="list-buttons" ng-show="currentScreen === screens.LIST">
        <button class="btn btn-primary close-btn col-xs-6 col-xs-offset-3" ng-click="close()">
          Complete
        </button>
      </div>

      <!-- Server Add -->
      <div class="add-buttons" ng-show="currentScreen === screens.ADD">
        <button class="btn btn-default col-xs-4 col-xs-offset-2" type="button" ng-click="currentPage === 'list'">
          Cancel
        </button>
        <button class="btn btn-primary col-xs-4" type="button" ng-click="addConnection(addForm, $event)">
          Add
        </button>
      </div>

      <!-- Server Remove -->
      <div class="remove-buttons" ng-show="currentScreen === screens.REMOVE">
        <button class="btn btn-default col-xs-4 col-xs-offset-2" type="button" ng-click="currentPage === 'list'">
          Cancel
        </button>
        <button class="btn btn-primary col-xs-4" type="button" ng-click="removeConnection(selectedConnection, $event)">
          Remove
        </button>
      </div>

      <!-- Server Edit -->
      <div class="edit-buttons" ng-show="currentScreen === screens.EDIT">
        <button class="btn btn-default col-xs-4 col-xs-offset-2" type="button" ng-click="currentPage === 'list'">
          Cancel
        </button>
        <button class="btn btn-primary col-xs-4" type="button" ng-click="editConnection(editConnectionForm, $event)">
          Save
        </button>
      </div>
    </p>
  </div>
</div>
